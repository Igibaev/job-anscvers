https://habr.com/ru/articles/559268/

PECS - это аббревиатура, которая расшифровывается как Producer Extends Consumer Super. Этот принцип используется при работе с дженериками в Java для указания ограничений на типы, которые могут использоваться как аргументы в методах.

Принцип PECS гласит, что если параметр типа используется для производства значений (то есть он является "продюсером"), то следует использовать верхнюю границу (extends), а если он используется для потребления значений (то есть является "консюмером"), то следует использовать нижнюю границу (super).

Например, рассмотрим классы Animal, Cat и Dog, где класс Cat является наследником Animal, а класс Dog также является наследником Animal. Теперь предположим, что у нас есть метод, который принимает список животных и пытается добавить в него элемент:

csharp
Copy code
public static void addAnimal(List<Animal> animals, Animal animal) {
animals.add(animal);
}
Если мы вызовем этот метод, передав ему список с элементами Cat и Dog, то все будет работать хорошо. Однако, если мы попытаемся добавить в список элемент типа Animal, то это вызовет ошибку компиляции.

Для решения этой проблемы мы можем использовать принцип PECS. Если мы хотим добавить элемент в список, то он является "консюмером", поэтому следует использовать нижнюю границу. Мы можем изменить метод следующим образом:

typescript
Copy code
public static void addAnimal(List<? super Animal> animals, Animal animal) {
animals.add(animal);
}
Теперь мы можем добавить элемент типа Animal в список, а также элементы типа Cat и Dog, потому что они также являются наследниками класса Animal.