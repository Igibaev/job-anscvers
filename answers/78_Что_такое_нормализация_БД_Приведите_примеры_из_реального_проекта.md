Нормализация БД - это процесс организации данных в базе данных с целью устранения избыточности, повышения эффективности хранения и управления данными, а также обеспечения целостности данных.

Существует несколько уровней нормализации, каждый из которых имеет свои правила и ограничения. Наиболее распространены первая, вторая и третья нормальные формы (1НФ, 2НФ, 3НФ).

Существует несколько нормальных форм (НФ), каждая из которых определяет определенные правила для структурирования данных в базе данных.

Первая нормальная форма (1НФ): каждый атрибут в таблице должен иметь только одно значение и не должен содержать повторяющихся групп полей.
Вторая нормальная форма (2НФ): каждый атрибут в таблице должен зависеть только от ее первичного ключа.
Третья нормальная форма (3НФ): каждый атрибут в таблице должен зависеть только от ее первичного ключа и не должен зависеть от других атрибутов.
Нормальная форма Бойса-Кодда (НФБК или 4НФ): таблица должна быть декомпозирована на наименьшее количество таблиц, каждая из которых должна содержать только те атрибуты, которые непосредственно связаны с ее первичным ключом.
Пятая нормальная форма (5НФ): таблица разделена на меньшие таблицы, чтобы избежать множественных зависимостей в таблицах.

Рассмотрим пример базы данных для хранения информации о пользователях и заказах в интернет-магазине. Пусть у каждого пользователя может быть несколько заказов, а каждый заказ относится к одному пользователю.

Исходная структура таблиц может быть следующей:

diff
Copy code
Пользователи (Users)
- user_id (PK)
- name
- email
- address

Заказы (Orders)
- order_id (PK)
- user_id (FK)
- order_date
- total
- status
  В этом примере мы имеем две таблицы: Users и Orders, и между ними связь по полю user_id.

Однако, эта структура таблиц не является нормализованной, так как есть дублирование информации в таблице Orders. Например, если у пользователя будет несколько заказов, то его имя и адрес будут повторяться в каждой записи таблицы Orders, что приведет к избыточности данных и усложнит обработку информации.

Чтобы решить эту проблему, мы можем провести нормализацию базы данных до 3НФ:

Первая нормальная форма (1НФ): каждый атрибут должен содержать только одно значение, т.е. в таблице не должно быть повторяющихся групп полей.
Мы уже соблюдаем 1НФ, так как каждый атрибут содержит только одно значение.

Вторая нормальная форма (2НФ): каждый атрибут должен зависеть от ключа таблицы целиком, а не от его части.
В таблице Orders поле total зависит только от заказа, но не от пользователя. Поэтому мы можем выделить это поле в отдельную таблицу, OrdersInfo:

diff
Copy code
Заказы (Orders)
- order_id (PK)
- user_id (FK)
- order_date
- status

Информация о заказе (OrdersInfo)
- order_id (PK, FK)
- total
  Третья нормальная форма (3НФ): в таблице не должно быть транзитивных зависимостей.
  В таблице Users поле address зависит от пользователя, а не от заказа. Поэтому мы можем выделить это поле в отдельную таблицу, UserAddresses:

diff
Copy code
Пользователи (Users)
- user_id (PK)
- name
- email

Адреса пользователей (UserAddresses)
- user_id (PK, FK)
- address

Заказы (Orders)
- order_id (PK)
- user_id (FK)
- order_date
- status

Информация о заказе (OrdersInfo)
- order_id (PK, FK)
- total
  Теперь наша база данных находится в 3НФ, и мы можем без избыточности данных и удобно работать с информацией о пользователях и заказах.